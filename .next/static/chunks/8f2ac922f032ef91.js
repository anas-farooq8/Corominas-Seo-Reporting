(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48425,e=>{"use strict";var t=e.i(71645),a=e.i(74080),i=e.i(91918),r=e.i(43476),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,a)=>{let s=t.forwardRef((e,t)=>{let{asChild:s,...l}=e,n=s?i.Slot:a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(n,{...l,ref:t})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{});function l(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>s,"dispatchDiscreteCustomEvent",()=>l])},23750,10708,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function i({className:e,type:i,...r}){return(0,t.jsx)("input",{type:i,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>i],23750);var r=e.i(71645),s=e.i(48425),l=r.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function n({className:e,...i}){return(0,t.jsx)(l,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...i})}l.displayName="Label",e.s(["Label",()=>n],10708)},64718,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(95187),r=(0,i.createServerReference)("404de04c57de0858e30b6c4f644672549e79affbda",i.callServer,void 0,i.findSourceMapURL,"createCustomer"),s=e.i(30374),l=e.i(67881),n=e.i(23750),d=e.i(10708),o=e.i(20682),c=e.i(7233);function u(){let[e,i]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[h,x]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),{toast:b}=(0,o.useToast)();async function g(e){e.preventDefault(),m(!0);let t=await r({name:h,email:f||null});t.success?(b({title:"Customer created",description:`${t.data.name} has been added.`}),x(""),p(""),i(!1)):b({title:"Error",description:t.error,variant:"destructive"}),m(!1)}return(0,t.jsxs)(s.Dialog,{open:e,onOpenChange:i,children:[(0,t.jsx)(s.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(l.Button,{className:"gap-2",children:[(0,t.jsx)(c.Plus,{className:"h-4 w-4"}),"Add Customer"]})}),(0,t.jsxs)(s.DialogContent,{children:[(0,t.jsxs)(s.DialogHeader,{children:[(0,t.jsx)(s.DialogTitle,{children:"Create Customer"}),(0,t.jsx)(s.DialogDescription,{children:"Add a new law firm client to the system"})]}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{htmlFor:"name",children:"Name *"}),(0,t.jsx)(n.Input,{id:"name",value:h,onChange:e=>x(e.target.value),placeholder:"Law Firm Name",disabled:u,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{htmlFor:"email",children:"Email"}),(0,t.jsx)(n.Input,{id:"email",type:"email",value:f,onChange:e=>p(e.target.value),placeholder:"contact@lawfirm.com",disabled:u})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:u,children:"Cancel"}),(0,t.jsx)(l.Button,{type:"submit",disabled:u||!h,children:u?"Creating...":"Create"})]})]})]})]})}e.s(["CreateCustomerDialog",()=>u],64718)},66543,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function i({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...i})})}function r({className:e,...i}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...i})}function s({className:e,...i}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...i})}function l({className:e,...i}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...i})}function n({className:e,...i}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...i})}function d({className:e,...i}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...i})}var o=e.i(71645),c=e.i(95187),u=(0,c.createServerReference)("60db317c42fa7f27f479f06c5561113a02fb6ebf25",c.callServer,void 0,c.findSourceMapURL,"updateCustomer"),m=e.i(30374),h=e.i(67881),x=e.i(23750),f=e.i(10708),p=e.i(20682);let b=(0,e.i(75254).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);function g({customer:e}){let[a,i]=(0,o.useState)(!1),[r,s]=(0,o.useState)(!1),[l,n]=(0,o.useState)(e.name),[d,c]=(0,o.useState)(e.email??""),{toast:g}=(0,p.useToast)();async function j(t){t.preventDefault(),s(!0);let a=await u(e.id,{name:l,email:d||null});a.success?(g({title:"Customer updated",description:"Changes have been saved."}),i(!1)):g({title:"Error",description:a.error,variant:"destructive"}),s(!1)}return(0,t.jsxs)(m.Dialog,{open:a,onOpenChange:i,children:[(0,t.jsx)(m.DialogTrigger,{asChild:!0,children:(0,t.jsx)(h.Button,{variant:"outline",size:"sm",className:"gap-1 bg-transparent",children:(0,t.jsx)(b,{className:"h-4 w-4"})})}),(0,t.jsxs)(m.DialogContent,{children:[(0,t.jsxs)(m.DialogHeader,{children:[(0,t.jsx)(m.DialogTitle,{children:"Edit Customer"}),(0,t.jsx)(m.DialogDescription,{children:"Update customer information"})]}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{htmlFor:"name",children:"Name *"}),(0,t.jsx)(x.Input,{id:"name",value:l,onChange:e=>n(e.target.value),disabled:r,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{htmlFor:"email",children:"Email"}),(0,t.jsx)(x.Input,{id:"email",type:"email",value:d,onChange:e=>c(e.target.value),disabled:r})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:r,children:"Cancel"}),(0,t.jsx)(h.Button,{type:"submit",disabled:r||!l,children:r?"Saving...":"Save Changes"})]})]})]})]})}var j=(0,c.createServerReference)("40c0884c1bedbae0f713957b6301066f79aaf10840",c.callServer,void 0,c.findSourceMapURL,"deleteCustomer"),v=e.i(27612),C=e.i(30009);function w({customerId:e}){let[a,i]=(0,o.useState)(!1),{toast:r}=(0,p.useToast)();async function s(){i(!0);let t=await j(e);t.success?r({title:"Customer deleted",description:"The customer has been removed."}):r({title:"Error",description:t.error,variant:"destructive"}),i(!1)}return(0,t.jsxs)(C.AlertDialog,{children:[(0,t.jsx)(C.AlertDialogTrigger,{asChild:!0,children:(0,t.jsx)(h.Button,{variant:"destructive",size:"sm",className:"gap-1",disabled:a,children:(0,t.jsx)(v.Trash2,{className:"h-4 w-4"})})}),(0,t.jsxs)(C.AlertDialogContent,{children:[(0,t.jsxs)(C.AlertDialogHeader,{children:[(0,t.jsx)(C.AlertDialogTitle,{children:"Delete Customer"}),(0,t.jsx)(C.AlertDialogDescription,{children:"This action cannot be undone. All associated data will be deleted."})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(C.AlertDialogCancel,{children:"Cancel"}),(0,t.jsx)(C.AlertDialogAction,{onClick:s,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})}var y=e.i(22016);function D({customers:e}){return 0===e.length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No customers found. Create one to get started."}):(0,t.jsxs)(i,{children:[(0,t.jsx)(r,{children:(0,t.jsxs)(l,{children:[(0,t.jsx)(n,{children:"Name"}),(0,t.jsx)(n,{children:"Email"}),(0,t.jsx)(n,{children:"Created"}),(0,t.jsx)(n,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(s,{children:e.map(e=>(0,t.jsxs)(l,{children:[(0,t.jsx)(d,{className:"font-medium",children:e.name}),(0,t.jsx)(d,{children:e.email??"-"}),(0,t.jsx)(d,{className:"text-sm text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()}),(0,t.jsxs)(d,{className:"text-right space-x-2 flex justify-end",children:[(0,t.jsx)(h.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsx)(y.default,{href:`/dashboard/customers/${e.id}`,children:"View"})}),(0,t.jsx)(g,{customer:e}),(0,t.jsx)(w,{customerId:e.id})]})]},e.id))})]})}e.s(["CustomersTable",()=>D],66543)}]);
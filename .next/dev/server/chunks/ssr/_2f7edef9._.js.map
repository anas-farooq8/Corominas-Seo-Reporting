{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Corominas-Seo-Reporting-System/lib/actions/customers.ts"],"sourcesContent":["\"use server\"\r\n\r\nimport { createClient } from \"@/lib/supabase/server\"\r\nimport { revalidateTag } from \"next/cache\"\r\nimport { z } from \"zod\"\r\n\r\nconst customerSchema = z.object({\r\n  name: z.string().min(1, \"Name is required\"),\r\n  email: z.string().email(\"Invalid email address\"),\r\n})\r\n\r\ntype CustomerInput = z.infer<typeof customerSchema>\r\n\r\nexport async function createCustomer(input: CustomerInput) {\r\n  try {\r\n    const validated = customerSchema.parse(input)\r\n    const supabase = await createClient()\r\n\r\n    const { data, error } = await supabase.from(\"customers\").insert([validated]).select().single()\r\n\r\n    if (error) throw new Error(error.message)\r\n\r\n    revalidateTag(\"customers\")\r\n    return { success: true, data }\r\n  } catch (error) {\r\n    const message = error instanceof Error ? error.message : \"Failed to create customer\"\r\n    return { success: false, error: message }\r\n  }\r\n}\r\n\r\nexport async function updateCustomer(id: string, input: Partial<CustomerInput>) {\r\n  try {\r\n    const validated = customerSchema.partial().parse(input)\r\n    const supabase = await createClient()\r\n\r\n    const { data, error } = await supabase\r\n      .from(\"customers\")\r\n      .update({ ...validated, updated_at: new Date().toISOString() })\r\n      .eq(\"id\", id)\r\n      .select()\r\n      .single()\r\n\r\n    if (error) throw new Error(error.message)\r\n\r\n    revalidateTag(\"customers\")\r\n    return { success: true, data }\r\n  } catch (error) {\r\n    const message = error instanceof Error ? error.message : \"Failed to update customer\"\r\n    return { success: false, error: message }\r\n  }\r\n}\r\n\r\nexport async function deleteCustomer(id: string) {\r\n  try {\r\n    const supabase = await createClient()\r\n\r\n    const { error } = await supabase.from(\"customers\").delete().eq(\"id\", id)\r\n\r\n    if (error) throw new Error(error.message)\r\n\r\n    revalidateTag(\"customers\")\r\n    return { success: true }\r\n  } catch (error) {\r\n    const message = error instanceof Error ? error.message : \"Failed to delete customer\"\r\n    return { success: false, error: message }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,uKAAC,CAAC,MAAM,CAAC;IAC9B,MAAM,uKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,OAAO,uKAAC,CAAC,MAAM,GAAG,KAAK,CAAC;AAC1B;AAIO,eAAe,eAAe,KAAoB;IACvD,IAAI;QACF,MAAM,YAAY,eAAe,KAAK,CAAC;QACvC,MAAM,WAAW,MAAM,IAAA,yIAAY;QAEnC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,aAAa,MAAM,CAAC;YAAC;SAAU,EAAE,MAAM,GAAG,MAAM;QAE5F,IAAI,OAAO,MAAM,IAAI,MAAM,MAAM,OAAO;QAExC,IAAA,8IAAa,EAAC;QACd,OAAO;YAAE,SAAS;YAAM;QAAK;IAC/B,EAAE,OAAO,OAAO;QACd,MAAM,UAAU,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACzD,OAAO;YAAE,SAAS;YAAO,OAAO;QAAQ;IAC1C;AACF;AAEO,eAAe,eAAe,EAAU,EAAE,KAA6B;IAC5E,IAAI;QACF,MAAM,YAAY,eAAe,OAAO,GAAG,KAAK,CAAC;QACjD,MAAM,WAAW,MAAM,IAAA,yIAAY;QAEnC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,aACL,MAAM,CAAC;YAAE,GAAG,SAAS;YAAE,YAAY,IAAI,OAAO,WAAW;QAAG,GAC5D,EAAE,CAAC,MAAM,IACT,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM,IAAI,MAAM,MAAM,OAAO;QAExC,IAAA,8IAAa,EAAC;QACd,OAAO;YAAE,SAAS;YAAM;QAAK;IAC/B,EAAE,OAAO,OAAO;QACd,MAAM,UAAU,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACzD,OAAO;YAAE,SAAS;YAAO,OAAO;QAAQ;IAC1C;AACF;AAEO,eAAe,eAAe,EAAU;IAC7C,IAAI;QACF,MAAM,WAAW,MAAM,IAAA,yIAAY;QAEnC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,aAAa,MAAM,GAAG,EAAE,CAAC,MAAM;QAErE,IAAI,OAAO,MAAM,IAAI,MAAM,MAAM,OAAO;QAExC,IAAA,8IAAa,EAAC;QACd,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,MAAM,UAAU,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACzD,OAAO;YAAE,SAAS;YAAO,OAAO;QAAQ;IAC1C;AACF;;;IArDsB;IAiBA;IAsBA;;AAvCA,+OAAA;AAiBA,+OAAA;AAsBA,+OAAA"}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///D:/Corominas-Seo-Reporting-System/.next-internal/server/app/dashboard/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {createCustomer as '406e50ad769a4997b9930a5753dca0f7364dd34cb6'} from 'ACTIONS_MODULE0'\nexport {updateCustomer as '602fadfd827ed4693cff6aef1073cf08e50e5984eb'} from 'ACTIONS_MODULE0'\nexport {deleteCustomer as '40270ae4704525e125b0aa87843b8f79170024de26'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}